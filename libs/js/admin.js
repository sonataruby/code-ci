function getScripts(e,i){var t=0;e.forEach(function(a){$.getScript(a,function(){++t==e.length&&i()})})}$(document).ajaxStart(function(){$("#loader").show()}).ajaxStop(function(){$(".modal-backdrop").remove(),setTimeout(function(){$("#loader").hide()},1e3)}),$.ajaxPrefilter(function(a,e,i){a.async=!0}),jQuery(document).ready(function(){function a(){var a=window.location.href;if(void 0!==(a=(a=a.replace("##","#")).split("#")[1])){var e=$('a[href="'+a+'"]').attr("parent-controller");void 0!==e&&($(e).addClass("display-sub"),$("body").addClass("display-sub")),$('div[sn-body="content"]').load(base_url+a,function(a,e,i){"error"==e&&$(this).html("Error loading page"),$("a[sn-link]").each(function(){var a=$(this).attr("href");a=a.replace("#",""),$(this).attr("href","#"+a)}),t()})}}function p(a,e,i,t){var d=Math.min(i/a,t/e);return{width:a*d,height:e*d}}window.onhashchange=function(){a()},$("header .switchClass").bind("click",function(){$("body").toggleClass("layout-small")}),a(),$("a[sn-link]").bind("click",function(){var a=$(this).attr("href"),e=$(this).attr("parent-controller");return a=(a=a.replace(base_url,"")).replace("#",""),window.location.href=base_url+base_target+"#"+a,void 0!==e&&($("body .display-sub").removeClass("display-sub"),$(e).addClass("display-sub"),$("body").addClass("display-sub")),$("a[sn-link]").each(function(){var a=$(this).attr("href");a=a.replace("#",""),$(this).attr("href","#"+a)}),!1});var t=function(){$("[data-view]").bind("click",function(){var a=$(this).attr("data-target"),e=$(this).attr("data-view");$(a).removeClass("androi-mobile androi-tablet androi-desktop"),$(a).addClass("androi-"+e)}),$("[upload-image-preview]").on("change",function(){var i,t,d,a=$(this).attr("upload-image-preview"),o=$(this).data("size").split("x"),l=$(this).data("resize"),e=$(this)[0].value,s=e.substring(e.lastIndexOf(".")+1).toLowerCase();if("gif"==s||"png"==s||"jpg"==s||"jpeg"==s)if("undefined"!=typeof FileReader){var n=$(a);n.empty();var r=new FileReader;r.fileName=$(this)[0].files[0].name,r.onload=function(a){var e=new Image;e.src=a.target.result,0!=l&&(e.onload=function(){0==$("body .digmodelUpload").hasClass("digmodelUpload")&&$("body").append('<div class="modal digmodelUpload fade bd-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="exampleModalLabel">Crop Image</h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body"><div id="uploadCrop" class="center-block"></div></div><div class="modal-footer"><button type="button" id="cropImageBtn" class="btn btn-primary">Crop</button></div></div></div></div>'),"undefined"==typeof Croppie&&$("head").append('<script src="/libs/js/exif.js"><\/script><script src="/libs/js/croppie.js"><\/script><link rel="stylesheet" href="/libs/css/croppie.css">'),$("body .digmodelUpload").modal("show"),t=p(o[0],o[1],980,650),d=p(e.width,e.height,980,650),i=$("body .digmodelUpload #uploadCrop").croppie({viewport:{width:t.width/2,height:t.height/2},enforceBoundary:!1,enableExif:!0}),$("body .digmodelUpload").on("shown.bs.modal",function(){$("body .digmodelUpload #uploadCrop").css({width:d.width,height:d.height}),$("body .digmodelUpload .modal-dialog").attr("style","max-width : "+((d.width<980?d.width:980)+30)+"px"),i.croppie("bind",{url:e.src})}),$("body .digmodelUpload").on("hidden.bs.modal",function(){i.croppie("destroy")}),$("#cropImageBtn").on("click",function(a){i.croppie("result",{type:"base64",size:{width:o[0],height:o[1]}}).then(function(a){n.empty(),$("<img />",{src:a,class:"w-100"}).appendTo(n),n.parent().find("input[type=hidden]").val(a),$("body .digmodelUpload").modal("hide"),n=!1})})}),$("<img />",{src:a.target.result,class:"w-100"}).appendTo(n),n.parent().find("label.displayname").html(a.target.fileName),n.parent().find("input[type=hidden]").val(a.target.result)},n.show(),r.readAsDataURL($(this)[0].files[0])}else alert("This browser does not support FileReader.");else alert("Pls select only images")}),$(".gallery-clear").on("click",function(){var a=$(this).parent().parent();a.find("img").attr("src","/catalog/share/image/nophoto.png"),a.find("input[type=hidden]").val("")})};t()});